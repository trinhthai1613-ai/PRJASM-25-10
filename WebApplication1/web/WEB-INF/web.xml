<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="https://jakarta.ee/xml/ns/jakartaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd"
         version="6.0">

  <display-name>LeaveMgmtAntJakarta10</display-name>

  <!-- ====== App configuration (NO .properties) ====== -->
  <context-param>
    <param-name>db.url</param-name>
    <param-value>jdbc:sqlserver://localhost:1433;databaseName=LeaveManagementDB;encrypt=false;trustServerCertificate=true;</param-value>
  </context-param>
  <context-param>
    <param-name>db.user</param-name>
    <param-value>sa</param-value>
  </context-param>
  <context-param>
    <param-name>db.password</param-name>
    <param-value>YourStrong!Passw0rd</param-value>
  </context-param>
  <context-param>
    <param-name>security.demo.ignorePassword</param-name>
    <param-value>true</param-value>
  </context-param>

  <!-- Listener load config into static Config at startup -->
  <listener>
    <listener-class>com.company.leavemgmt.util.AppConfigListener</listener-class>
  </listener>

  <!-- ====== Servlets & Mappings (giữ nguyên) ====== -->
  <servlet><servlet-name>LoginServlet</servlet-name><servlet-class>com.company.leavemgmt.web.LoginServlet</servlet-class></servlet>
  <servlet-mapping><servlet-name>LoginServlet</servlet-name><url-pattern>/login</url-pattern></servlet-mapping>

  <servlet><servlet-name>LogoutServlet</servlet-name><servlet-class>com.company.leavemgmt.web.LogoutServlet</servlet-class></servlet>
  <servlet-mapping><servlet-name>LogoutServlet</servlet-name><url-pattern>/logout</url-pattern></servlet-mapping>

  <servlet><servlet-name>HomeServlet</servlet-name><servlet-class>com.company.leavemgmt.web.HomeServlet</servlet-class></servlet>
  <servlet-mapping><servlet-name>HomeServlet</servlet-name><url-pattern>/home</url-pattern></servlet-mapping>

  <servlet><servlet-name>RequestCreateServlet</servlet-name><servlet-class>com.company.leavemgmt.web.RequestCreateServlet</servlet-class></servlet>
  <servlet-mapping><servlet-name>RequestCreateServlet</servlet-name><url-pattern>/request/create</url-pattern></servlet-mapping>

  <servlet><servlet-name>RequestListServlet</servlet-name><servlet-class>com.company.leavemgmt.web.RequestListServlet</servlet-class></servlet>
  <servlet-mapping><servlet-name>RequestListServlet</servlet-name><url-pattern>/request/list</url-pattern></servlet-mapping>

  <servlet><servlet-name>ManagerListServlet</servlet-name><servlet-class>com.company.leavemgmt.web.ManagerListServlet</servlet-class></servlet>
  <servlet-mapping><servlet-name>ManagerListServlet</servlet-name><url-pattern>/manager/requests</url-pattern></servlet-mapping>

  <servlet><servlet-name>RequestReviewServlet</servlet-name><servlet-class>com.company.leavemgmt.web.RequestReviewServlet</servlet-class></servlet>
  <servlet-mapping><servlet-name>RequestReviewServlet</servlet-name><url-pattern>/request/review</url-pattern></servlet-mapping>

  <servlet><servlet-name>AgendaServlet</servlet-name><servlet-class>com.company.leavemgmt.web.AgendaServlet</servlet-class></servlet>
  <servlet-mapping><servlet-name>AgendaServlet</servlet-name><url-pattern>/agenda</url-pattern></servlet-mapping>

  <servlet><servlet-name>BalanceServlet</servlet-name><servlet-class>com.company.leavemgmt.web.BalanceServlet</servlet-class></servlet>
  <servlet-mapping><servlet-name>BalanceServlet</servlet-name><url-pattern>/balance</url-pattern></servlet-mapping>

  <servlet><servlet-name>ReasonOptionsServlet</servlet-name><servlet-class>com.company.leavemgmt.web.ReasonOptionsServlet</servlet-class></servlet>
  <servlet-mapping><servlet-name>ReasonOptionsServlet</servlet-name><url-pattern>/request/reason-options</url-pattern></servlet-mapping>

  <!-- Auth filter -->
  <filter><filter-name>AuthFilter</filter-name><filter-class>com.company.leavemgmt.filter.AuthFilter</filter-class></filter>
  <filter-mapping><filter-name>AuthFilter</filter-name><url-pattern>/home</url-pattern></filter-mapping>
  <filter-mapping><filter-name>AuthFilter</filter-name><url-pattern>/request/*</url-pattern></filter-mapping>
  <filter-mapping><filter-name>AuthFilter</filter-name><url-pattern>/manager/*</url-pattern></filter-mapping>
  <filter-mapping><filter-name>AuthFilter</filter-name><url-pattern>/agenda</url-pattern></filter-mapping>
  <filter-mapping><filter-name>AuthFilter</filter-name><url-pattern>/balance</url-pattern></filter-mapping>

  <welcome-file-list><welcome-file>login</welcome-file></welcome-file-list>
</web-app>
